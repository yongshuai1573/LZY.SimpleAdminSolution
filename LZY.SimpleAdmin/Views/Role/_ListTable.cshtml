@using Webdiyer.WebControls.Mvc
@model PagedList<RoleViewModel>
<table class="table table-striped table-hover">
    <thead>
        <tr class="text-center">
            <th>角色名称</th>
            <th>创建时间</th>
            <th>备注</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var row in Model)
        {
            <tr>
                <td>@row.p_name</td>
                <td>@row.p_createtime.GetValueOrDefault().ToString("yyyy-MM-dd HH:mm:ss")</td>
                <td>@row.p_attribute1</td>
                <td>
                    @Html.ActionLink("编辑", "RoleInfo", new { id = row.p_id }, htmlAttributes: new { @class = "btn btn-default btn-sm" })<text>&nbsp;</text>
                    @Ajax.ActionLink("删除", "RoleDeleted", new { id = row.p_id }, new AjaxOptions() { Confirm = "确认要删除么？", OnComplete = "onComplate", HttpMethod = "Post" }, htmlAttributes: new { @class = "btn btn-danger btn-sm" }) <text>&nbsp;</text>
                    @Html.ActionLink("授权", "RoleMenu", "Account", new { id = row.p_id }, htmlAttributes: new { @class = "btn btn-default btn-sm" })
                </td>
            </tr>

        }
    </tbody>
</table>
<div class="text-center">
    <nav class="pull-right">
        @Ajax.Pager(Model, new PagerOptions { AutoHide = false, PageIndexParameterName = "p", ContainerTagName = "ul", CssClass = "pagination", CurrentPagerItemTemplate = "<li class=\"active\"><a href=\"#\">{0}</a></li>", DisabledPagerItemTemplate = "<li class=\"disabled\"><a>{0}</a></li>", PagerItemTemplate = "<li>{0}</li>", Id = "bootstrappager" }, new MvcAjaxOptions { UpdateTargetId = "dataTable", HttpMethod = "Post", DataFormId = "searchForm" })
    </nav>
</div>